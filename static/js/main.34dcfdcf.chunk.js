(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(8),i=n.n(l),r=(n(58),n(59),n(142)),s=n(141),c=n(15),u=n(10),d=n(23),m=n(24),h=n(27),p=n(60),f="e9be5c2cba5d56e48fb9fa6d4d49e356",g="adfc41cff74520d4dcc10e25f91635fa861208a3",y={GET_CHARACTERS:function(e,t){p("characters",{publicKey:f,privateKey:g,timeout:4e3,query:{limit:20,offset:t}},(function(t,n){e(n,t)}))},GET_CHARACTER:function(e,t){p("characters/"+e,{publicKey:f,privateKey:g,timeout:1e4},(function(e,n){t(n.data.results[0],e)}))}},w=n(19),E=(n(98),n(139)),b=n(143),S=n(138),v=n(135),C=n(145),O=n(136),k=n(137),j=n(144),x={centerize:{justifyContent:"center"}},H=o.a.forwardRef((function(e,t){return o.a.createElement(j.a,Object.assign({direction:"up",ref:t},e))})),T=function(e){return o.a.createElement(b.a,{TransitionComponent:H,open:e.dialogOn,onClose:e.handleClose,scroll:"body","aria-labelledby":"scroll-dialog-title",style:{opacity:.8}},o.a.createElement(C.a,{id:"scroll-dialog-title"},e.title),o.a.createElement(v.a,{dividers:!0,style:{minWidth:400,textAlign:"center"}},o.a.createElement(O.a,null,o.a.createElement("h5",null,"Appears in Series:"),e.series.length>0?e.series.map((function(e,t){return o.a.createElement(k.a,{key:t,href:e.resourceURI,style:x.centerize},e.name)})):o.a.createElement(k.a,{style:x.centerize},"  Not found. ")),o.a.createElement(O.a,null,o.a.createElement("h5",null,"Appears in Stories:"),e.stories.length>0?e.stories.map((function(e,t){return o.a.createElement(k.a,{key:t,href:e.resourceURI,style:x.centerize},e.name)})):o.a.createElement(k.a,{style:x.centerize}," Not found. ")),o.a.createElement(O.a,null,o.a.createElement("h5",null,"Official Links:"),e.publicUrls.length>0?e.publicUrls.map((function(e,t){return o.a.createElement(k.a,{key:t,style:x.centerize},o.a.createElement("a",{href:e.url}," ",e.type.toUpperCase()," "))})):o.a.createElement(k.a,{style:x.centerize}," Not found. "))),o.a.createElement(S.a,null,o.a.createElement(E.a,{onClick:e.handleClose,color:"primary"}," Close  ")))},I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).style={cell:{alignSelf:"center"},wrapper:{position:"relative",padding:0,display:"inline-flex"},img:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",boxShadow:"0 9px 12px 0 rgba(0,0,0,0.4)",transition:"0.4s"}},n.onClickHero=function(){y.GET_CHARACTER(n.state.id,(function(e){console.log(e),n.setState({series:Object(w.a)(e.series.items)}),n.setState({stories:Object(w.a)(e.stories.items)}),n.setState({publicUrls:Object(w.a)(e.urls)}),n.handleClickOpen()}))},n.handleClose=function(){n.setState({dialogOn:!1})},n.handleClickOpen=function(){n.setState({dialogOn:!0})},n.state={name:e.item.name,id:e.item.id,description:e.item.description,pic:e.item.thumbnail,dialogOn:!1,series:[],stories:[],publicUrls:[],tooltipOn:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("span",{className:"cell",style:this.style.cell},o.a.createElement("div",{style:this.style.wrapper,onClick:this.onClickHero},o.a.createElement("img",{style:this.style.img,src:this.state.pic.path+"."+this.state.pic.extension,alt:""}),o.a.createElement("span",{className:"overlay"},o.a.createElement("h4",null,this.state.name),o.a.createElement("p",null,this.state.description)," ",o.a.createElement("br",null),o.a.createElement("p",null,"Click for more ..."))),o.a.createElement(T,{dialogOn:this.state.dialogOn,title:this.props.item.name,handleClose:this.handleClose,series:this.state.series,stories:this.state.stories,publicUrls:this.state.publicUrls}))}}]),t}(a.Component),R=n(47),A=n(140),U=Object(R.a)((function(e){return{progress:{margin:e.spacing(2)}}})),D=function(e){var t=U(),n={width:"100%",height:140,paddingBottom:55,display:"flex",alignItems:"center",justifyContent:"center"},a={width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},l={width:"100%",height:140,paddingTop:60,display:"flex",alignItems:"center",justifyContent:"center"};return o.a.createElement("div",{style:function(e){switch(e){case"top":return l;case"bottom":return n;case"full":return a;default:return l}}(e.type)},o.a.createElement(A.a,{className:t.progress}))},N=n(103),B=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).showFullSpinner=function(){return n.state.isShowFullSpinner?o.a.createElement(D,{type:"full"}):null},n.showTopSpinner=function(){return n.state.isShowTopSpinner?o.a.createElement(D,{type:"top"}):null},n.showBottomSpinner=function(){return n.state.isShowBottomSpinner?o.a.createElement(D,{type:"bottom"}):null},n.checkIfDomReadyForScroll=function(){setTimeout((function(){return requestAnimationFrame(n.addScrollHandler)}),0)},n.handleScroll=N.throttle((function(e){if(console.log(window.scrollY,window.innerHeight,document.body.scrollHeight),0===window.scrollY&&n.state.offset>=20)return n.removeScrollHandler(),console.log("loadPrev"),void n.setState({offset:n.state.offset-20,isShowTopSpinner:!0,loadDirection:"prev"});window.scrollY>=document.body.scrollHeight-window.innerHeight-1&&n.state.offset<n.state.totalItems&&(n.removeScrollHandler(),n.setState({offset:n.state.offset+20,isShowBottomSpinner:!0,loadDirection:"next"}))}),300),n.addScrollHandler=function(e){console.log("add scroll handler"),n.log("load direction : ",n.state.loadDirection),"next"===n.state.loadDirection&&(n.log("onNext"),window.scrollTo(0,60)),"prev"===n.state.loadDirection&&(n.log("onPrev"),window.scrollTo(0,document.body.scrollHeight-window.innerHeight-60)),window.addEventListener("scroll",n.handleScroll)},n.removeScrollHandler=function(){window.removeEventListener("scroll",n.handleScroll)},n.state={data:[],offset:0,totalItems:0,isInit:!0,isShowFullSpinner:!0,isShowTopSpinner:!1,isShowBottomSpinner:!1,loadDirection:"next"},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.showFullSpinner(),this.showTopSpinner(),o.a.createElement("div",{className:"grid"},this.state.data.map((function(e){return o.a.createElement(I,{key:e.id,item:e})}))),this.showBottomSpinner())}},{key:"componentDidMount",value:function(){var e=this;console.log("did mount"),y.GET_CHARACTERS((function(t,n){null!=n?(console.log(n),e.componentDidMount()):e.setState({data:t.data.results,totalItems:t.data.total,isShowFullSpinner:!1})}),this.state.offset)}},{key:"componentWillUpdate",value:function(e,t){console.log("will update raised")}},{key:"componentDidUpdate",value:function(e,t,n){var a=this;t.offset!==this.state.offset&&(console.log("updated data"),y.GET_CHARACTERS((function(o,l){null!=l?a.componentDidUpdate(e,t,n):a.setState({data:o.data.results,totalItems:o.data.total,isShowBottomSpinner:!1,isShowTopSpinner:!1,isShowFullSpinner:!1})}),this.state.offset)),JSON.stringify(this.state.data)!==JSON.stringify(t.data)&&(console.log("scroll top"),this.checkIfDomReadyForScroll())}},{key:"componentWillUnmount",value:function(){this.removeScrollHandler()}},{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(e,t)}}]),t}(a.Component),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).style={navBar:{position:"fixed",width:"100%",height:55,zIndex:100,background:"rgba(0, 0, 0, 0.9)",color:"white",transition:"top 0.2s ease-in-out"},navUp:{top:" -55px;",background:"rgba(0, 0, 0, 0.9)",color:"white"}},e.state={style:e.style.navBar},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar",style:this.state.style},o.a.createElement("span",{className:"navbar-brand"}," ",o.a.createElement("b",null,"Marvel Wall")))}}]),t}(a.Component),z={container:{width:"100%",height:50,position:"fixed",left:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",color:"white",display:"flex",justifyContent:"center",alignItems:"center"},content:{}},W=function(e){return o.a.createElement("footer",{style:z.container},o.a.createElement("span",{style:z.content}," some right reserve text. "))};var G=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,null),o.a.createElement(F,null),o.a.createElement(r.a,{fixed:!0,style:{backgroundColor:"white",opacity:.85,minHeight:"100vh"}},o.a.createElement(B,null)),o.a.createElement(W,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(105);i.a.render(o.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},53:function(e,t,n){e.exports=n(106)},58:function(e,t,n){},59:function(e,t,n){},98:function(e,t,n){}},[[53,1,2]]]);
//# sourceMappingURL=main.34dcfdcf.chunk.js.map